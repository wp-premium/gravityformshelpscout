window.GFHelpScoutAdmin=null,function(t){GFHelpScoutAdmin=function(){var n=this;n.init=function(){n.$customAppKey=t("#customAppKey"),n.$customAppSecret=t("#customAppSecret"),n.$authButton=t("#authButton"),n.$customAppKey.on("change",n.saveAppKeys),n.$customAppSecret.on("change",n.saveAppKeys),n.handleAuthButton()},n.saveAppKeys=function(){if(n.handleAuthButton(!1),n.$customAppKey.val()&&n.$customAppSecret.val()){var e=new gfAjaxSpinner(n.$authButton,!1,"position:relative;top:6px;left:6px;");t.post(ajaxurl,{action:"gform_helpscout_save_app_keys",app_key:n.$customAppKey.val(),app_secret:n.$customAppSecret.val(),nonce:gform_helpscout_plugin_settings_strings.nonce_save},function(t){e.destroy(),t.success?n.handleAuthButton(t.data.authUrl):n.handleAuthButton(!1)})}},n.handleAuthButton=function(t){t?n.$authButton.attr("href",t):!1===t&&n.$authButton.attr("href",""),n.$authButton.attr("href")?n.$authButton.removeClass("disabled"):n.$authButton.addClass("disabled")},n.init()},t(document).ready(GFHelpScoutAdmin)}(jQuery);