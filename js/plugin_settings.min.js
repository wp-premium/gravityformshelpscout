window.GFHelpScoutAdmin=null,function(t){GFHelpScoutAdmin=function(){var u=this;u.init=function(){u.$customAppKey=t("#customAppKey"),u.$customAppSecret=t("#customAppSecret"),u.$authButton=t("#authButton"),u.$customAppKey.on("change",u.saveAppKeys),u.$customAppSecret.on("change",u.saveAppKeys),u.handleAuthButton()},u.saveAppKeys=function(){if(u.handleAuthButton(!1),u.$customAppKey.val()&&u.$customAppSecret.val()){var e=new gfAjaxSpinner(u.$authButton,!1,"position:relative;top:6px;left:6px;");t.post(ajaxurl,{action:"gform_helpscout_save_app_keys",app_key:u.$customAppKey.val(),app_secret:u.$customAppSecret.val()},function(t){e.destroy(),t.success?u.handleAuthButton(t.data.authUrl):u.handleAuthButton(!1)})}},u.handleAuthButton=function(t){t?u.$authButton.attr("href",t):!1===t&&u.$authButton.attr("href",""),u.$authButton.attr("href")?u.$authButton.removeClass("disabled"):u.$authButton.addClass("disabled")},u.init()},t(document).ready(GFHelpScoutAdmin)}(jQuery);